


COMM(1)        Human68k ITA TOOLBOX User's Manual         COMM(1)



名称
     comm - ソート済みの 2つのファイルを行毎に比較・マージする

形式
     comm [ -123bsBCZ ] [ -- ] file1 file2

解説
     comm は file1 と file2 の内容を読み取って行毎に比較し，文字
     コード順にマージして標準出力に出力します．両ファイルの内容は
     予め文字コード順にソートされている必要があります．

     file1 または file2 として‘-’を指定すると標準入力から読み取
     ります．

     何もオプションを指定しなければ，comm は 3つの欄からなる出力
     を生成します．1番目の欄は file1 だけにある行，2番目の欄は
     file2 にだけある行，3番目の欄は両方にある行です．

     -1，-2，-3 オプションはそれぞれ対応する欄の出力を抑止します．
     この 3つのオプションのうち 1つを指定した場合の出力は 2つの欄
     からなり，2つを指定した場合の出力は 1つの欄だけになります．
     -123 は何も出力されないことになります．

     その他のオプションには次のものがあります．

     -b   両方のファイルに共通の行を 2行反復出力します．通常は 1
          行だけ出力されます．

     -s   すべての行を 1番目の欄に（つまり水平タブを 1つも付加せ
          ずに）出力します．通常は欄の順位が 1つ進む毎に 1個の水
          平タブを出力行の前に付加出力して欄を形成します．

     -B   決して ^J コードの ^M^J への変換を行いません．通常は，
          出力が cooked モードのキャラクタ・デバイス（CON や PRN
          など）である場合には，^M に続いていない ^J コードを（出
          力時に）^M^J に変換して出力します．

     -C   -B オプションと逆に，^M に続いていない ^J コードを（出
          力時に）常に ^M^J に変換して出力します．

     -Z   いかなる入力からも，^Z (control-Z) コードを EOF と見な
          して入力を打ち切ります．通常は，入力が cooked モードの
          キャラクタ・デバイス（CON など）である場合にのみ，^D か
          または ^Z を読み取ると，それを EOF コードと見なして入力
          を打ち切ります．

関連事項
     cmp(1), diff(1), sdiff(1), sort(1), uniq(1)

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     ファイルがオープンできなかったり入力に失敗した場合には 2，出
     力エラーやメモリ不足など，システムの問題により正常に実行でき
     なかった場合には 3，すべてが正常に終了したならば 0 が返りま
     す．^C などによって中断したときの終了ステータスは OS の仕様
     によります．

注意
     不完全行（最後の改行から EOF までのデータ）は無視されます．

不具合
     cooked モードのキャラクタ・デバイスからは，^D や ^Z を EOF
     としてではなくデータとして入力することはできません．
                         
     CON からは行単位で入力されますので，^D あるいは ^Z の後にも
     改行が必要です．

バージョン
     1.0

制作・著作
     Copyright(C)1995 by 板垣 史彦 (Itagaki Fumihiko)



1.0                 Last change: 19 Jan 1995     Itagaki Fumihiko



